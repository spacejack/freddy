<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<!--
Copyright © 2016-2017 by Mike Linkovich
https://github.com/spacejack/freddy
-->
<meta name="viewport" content="initial-scale=1, width=device-width"/>
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="theme-color" content="#000000"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
<title>Freddy</title>
<meta property="og:title" content="Freddy"/>
<meta property="og:description" content="A fast mobile Reddit reader"/>
<meta property="og:image" content="img/icon.png"/>
<style>h1,h2{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;font-weight:700}h1,h2,h3{font-weight:700}blockquote,body,hr,li,ol,ul{padding:0}.content-loading,.item-list{-webkit-animation-duration:.3s}.menu .content,.panel{-webkit-box-direction:normal}.item-list .item .right,.svg-logo{vertical-align:bottom;margin-right:.5em}body,html{height:100%}body,button,input,select{font-family:helvetica,arial,sans-serif}body{margin:0;color:#CCC;background-color:#222;font-size:16px}button,select{font-size:1em;color:#DDD;background-color:#2C2C2C;border-color:#888;margin:0}html{-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none;-ms-text-size-adjust:none}button,input,select,textarea{-webkit-tap-highlight-color:rgba(255,255,255,.1)}select{padding:.5em}button:disabled,select:disabled{cursor:default;color:rgba(.5,.5,.5,.5);background-color:rgba(0,0,0,.25)}button{border-width:1px;border-style:solid;padding:.5em 1.5em;cursor:pointer}button::-moz-focus-inner{border:0;padding:0}button:active{color:#EEE;background-color:#555}input[type=text]{font-size:1.2em;margin:0;padding:.2em;color:#EEE;background-color:rgba(255,255,255,.05);border-color:#666;border-width:1px}input[type=checkbox]{display:inline-block;-webkit-transform:scale(1.8,1.8);transform:scale(1.8,1.8);padding:0;margin:.9em 1em .5em .9em}a{text-decoration:none;color:#ACD}p{margin:.4em 0 .2em}blockquote{margin:.1em 0 0 .7em;font-style:italic;font-size:.95em}ol,ul{margin:0 0 0 1em}li{margin:.05em 0}h1{font-size:1.5em;user-select:none;cursor:default}h2{font-size:1.3em;user-select:none}.clickable,.panel-head{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}h3{font-size:1.2em}h4{font-size:1.1em;font-weight:400}hr{border:none;height:1px;background-color:#999;margin:0}.item-list .item:not(:first-child),.subreddit-item:not(:first-child){border-top:#999 solid 1px}pre{background-color:#303030;padding:.35em .5em;margin:.1em .5em .1em 0;overflow-x:auto}code{font-family:consolas,monospace;font-size:.875em;color:#6DA}.freddy{position:fixed;left:0;top:0;width:100%;height:100%;overflow:hidden}.small{font-size:.75em}.svg-logo{height:1.1em;width:1.1em}.btn-panelnav{display:inline-block;padding:0 .5em;color:#CCC;background-color:#222;cursor:pointer}.btn-panelnav:active{color:#DDD;background-color:#181818}.clickable{cursor:pointer;user-select:none}.content-loading{text-align:center;margin-top:3em;font-size:.8em;font-style:italic;opacity:0;-webkit-animation-name:content-loading-fade-in;animation-name:content-loading-fade-in;-webkit-animation-delay:.5s;animation-delay:.5s;animation-duration:.3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes content-loading-fade-in{from{opacity:0}to{opacity:1}}@keyframes content-loading-fade-in{from{opacity:0}to{opacity:1}}.panel{position:absolute;left:0;right:0;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.panel-head{width:100%;height:2.25em;line-height:1.3em;font-weight:700;font-size:1.4em;padding:.5em .3em;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.5);box-shadow:0 5px 10px rgba(0,0,0,.5);background:#333;color:#BBB;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:10;user-select:none;cursor:default}.item-list .item .right,.item-list .item .title{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.panel-content{height:100%;overflow-y:scroll;-webkit-overflow-scrolling:touch}.panel-feed{background-color:#222;-webkit-box-shadow:0 0 50px rgba(0,0,0,.75);box-shadow:0 0 50px rgba(0,0,0,.75)}.item-list{-webkit-animation-name:item-list-fade-in;animation-name:item-list-fade-in;animation-duration:.3s}.item-list .item{display:table;width:100%}.item-list .item .left{display:table-cell;padding:0 .5em .4em}.item-list .item .right{display:table-cell;font-size:1.125em;font-weight:700;text-align:center;padding-bottom:.3em;background-color:#2E353A;width:4em;cursor:pointer;user-select:none}.item-list .item .right p{white-space:nowrap}.item-list .item .right:active{background-color:#3E484F;color:#DDD}.item-list .item .thumb{float:left;margin-right:.5em;margin-top:.73em;cursor:pointer;width:2.5em;height:2.5em;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out;opacity:0}.item-list .item .thumb.show{opacity:1}.item-list .item .title{font-size:1.2em;font-weight:400;margin:.5em 0 0;cursor:pointer;user-select:none}.item-list .item .details,.loadmore-block{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.item-list .item .title:active{background-color:#2F2F2F}.item-list .item p.title>a:active{color:#B8EEFF}.item-list .item .title.self>a{color:#CCC}.item-list .item .title.self>a:active{color:#DDD}.item-list .item .details{font-size:.8em;user-select:none}@-webkit-keyframes item-list-fade-in{from{opacity:0}to{opacity:1}}@keyframes item-list-fade-in{from{opacity:0}to{opacity:1}}.loadmore-block{text-align:center;padding:.7em 0;-webkit-box-shadow:inset 0 .5em 15px rgba(0,0,0,.25);box-shadow:inset 0 .5em 15px rgba(0,0,0,.25);user-select:none;background-color:#2E353A;cursor:pointer}.article .comments .comment .head,.subreddit-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer}.loadmore-block:active{background-color:#3E484F}.options-content{padding:0 0 0 10px}.subreddit-item{position:relative;font-size:1.2em;padding:.4em 0;user-select:none}.subreddit-item:active{background-color:#2F2F2F}.subreddit-item-text{position:absolute}.subreddit-item-delete{position:absolute;left:72%;background-color:#3A3A3A;padding:0 .5em}.subreddit-item-delete:active{background-color:#A10}.subreddit-add-block{margin-bottom:1em}.txt-subreddit-add{width:50%}.panel-sidebar .panel-head{padding-left:1.5em}.panel-sidebar .panel-content{padding-left:2em;padding-right:10%}.panel-sidebar .panel-content .meta-body{font-size:.85em;line-height:1.35em;margin-bottom:1em}.panel-sidebar .panel-content .meta-body hr{margin:.75em 0}.panel-sidebar .panel-content .meta-body h1,.panel-sidebar .panel-content .meta-body h2,.panel-sidebar .panel-content .meta-body h3,.panel-sidebar .panel-content .meta-body h4{margin:.4em 0;padding:0}.panel-article{background-color:#222;-webkit-box-shadow:0 0 50px rgba(0,0,0,.5);box-shadow:0 0 50px rgba(0,0,0,.5);-webkit-transform:translate3d(105%,0,0);transform:translate3d(105%,0,0)}.article{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-name:article-fade-in;animation-name:article-fade-in}.article>.content-block{padding:.5em .5em .25em;margin:1em .5em .7em;background-color:#292929;border:1px solid #888;overflow:auto}.article>.content-block>.title{padding-top:0;margin-top:0;font-size:1.1em}.article>.content-block>.body{word-wrap:break-word;font-size:.85em}.article>.content-block>.info{font-size:.7em;margin-bottom:.675em}.article>.content-block>.thumb{float:left;margin-right:.5em}.article>.content-block>.thumb>img{cursor:pointer;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out;opacity:0}.article>.content-block>.thumb>img.show{opacity:1}.article .comments{overflow-x:hidden;margin-right:.5em}.article .comments .comment{margin:.1em 0 .1em .6em}.article .comments .comment .head{margin-top:.4em;font-size:.7em;user-select:none}.article .comments .comment .head .author{font-weight:700}.article .comments .comment .head .meta .symbol{padding-left:.25em}.article .comments .comment .head:active .author,.article .comments .comment .head:active .meta{background-color:#2F2F2F}.article .comments .comment .body{font-size:.85em;padding-left:.5em;padding-right:.1em;padding-bottom:.2em;border-left:#555 solid 2px;border-bottom:#555 solid 1px;margin-bottom:.6em}.article .comments .comment.collapsed .body,.article .comments .comment.collapsed .comment{display:none}@-webkit-keyframes article-fade-in{from{opacity:0}to{opacity:1}}@keyframes article-fade-in{from{opacity:0}to{opacity:1}}.viewer,.viewer .content{opacity:0;-webkit-transition:opacity .25s;position:absolute;left:0;top:0;width:100%;height:100%}.viewer{background-color:rgba(0,0,0,.9);transition:opacity .25s}.viewer .content{background-repeat:no-repeat;background-size:contain;background-position:center;cursor:pointer;transition:opacity .25s}.viewer .content.show,.viewer.show{opacity:1}.menu{position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.75);opacity:0;-webkit-transition:opacity .25s;transition:opacity .25s}.menu .content{position:relative;left:0;top:0;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.menu .content .block{position:relative;min-width:50%;max-width:75%;max-height:95%;display:inline-block;text-align:center;overflow:auto}.menu .content .block .title{padding:0 0 .6em;font-size:1.5em}.menu .content .block .items{-webkit-box-shadow:10px 20px 20px rgba(0,0,0,.25);box-shadow:10px 20px 20px rgba(0,0,0,.25)}.menu .content .block .items .item{color:#DDD;background-color:#2C2C2C;padding:.5em 1em;font-size:1.2em;font-weight:700;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.menu .content .block .items .item:not(:first-child){border-top:#555 solid 1px}.menu .content .block .items .item:active{color:#EEE;background-color:#555}.menu.show{opacity:1}.logger{display:inline-block;position:absolute;right:.5em;bottom:.5em;font-family:monospace;font-size:.75em;color:#6C0;background-color:rgba(0,0,0,.5)}</style>
<link rel="icon" sizes="192x192" href="img/icon.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="img/icon.png"/>
</head>
<body>
<script>!function e(t,n,r){function i(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(){"use strict";function e(t,n){var i;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,u=0,s=o.length;u<s;u++)a[o[u]]=function(e,t){return function(){return e.apply(t,arguments)}}(a[o[u]],a);r&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(e){i(e)},!1),t.onclick=null)}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!n,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=i&&/OS [6-7]_\d/.test(navigator.userAgent),u=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return r&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if((r=window.getSelection()).rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,n,u,s,l,c=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(l=e.changedTouches[0],(c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(u=c.tagName.toLowerCase())){if(t=this.findControl(c)){if(this.focus(c),r)return!1;c=t}}else if(this.needsFocus(c))return e.timeStamp-n>100||i&&window.top!==window&&"input"===u?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,e),i&&"select"===u||(this.targetElement=null,e.preventDefault()),!1);return!(!i||o||!(s=c.fastClickScrollParent)||s.fastClickLastScrollTop===s.scrollTop)||(this.needsClick(c)||(e.preventDefault(),this.sendClick(c,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;r&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,n,i;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):void 0!==t&&t.exports?(t.exports=e.attach,t.exports.FastClick=e):window.FastClick=e}()},{}],2:[function(e,t,n){(function(e){!function(){"use strict";function n(e,t,n,r,i,o){return{tag:e,key:t,attrs:n,children:r,text:i,dom:o,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function r(e){for(var t,n="div",r=[],i={};t=u.exec(e);){var o=t[1],a=t[2];if(""===o&&""!==a)n=a;else if("#"===o)i.id=a;else if("."===o)r.push(a);else if("["===t[3][0]){var l=t[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(l):i[t[4]]=l||!0}}return r.length>0&&(i.className=r.join(" ")),s[e]={tag:n,attrs:i}}function i(e,t,r){var i,o,a=!1,u=t.className||t.class;for(var s in e.attrs)l.call(e.attrs,s)&&(t[s]=e.attrs[s]);void 0!==u&&(void 0!==t.class&&(t.class=void 0,t.className=u),null!=e.attrs.className&&(t.className=e.attrs.className+" "+u));for(var s in t)if(l.call(t,s)&&"key"!==s){a=!0;break}return Array.isArray(r)&&1===r.length&&null!=r[0]&&"#"===r[0].tag?o=r[0].children:i=r,n(e.tag,t.key,a?t:void 0,i,o)}function o(e){var t,o=arguments[1],a=2;if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");if("string"==typeof e)var u=s[e]||r(e);if(null==o?o={}:("object"!=typeof o||null!=o.tag||Array.isArray(o))&&(o={},a=1),arguments.length===a+1)t=arguments[a],Array.isArray(t)||(t=[t]);else for(t=[];a<arguments.length;)t.push(arguments[a++]);var l=n.normalizeChildren(t);return"string"==typeof e?i(u,o,l):n(e,o.key,o,l)}function a(e){var t=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var i=Date.now();0===t||i-t>=16?(t=i,e()):null===n&&(n=r(function(){n=null,e(),t=Date.now()},16-(i-t)))}}n.normalize=function(e){return Array.isArray(e)?n("[",void 0,void 0,n.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?n("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},n.normalizeChildren=function(e){for(var t=0;t<e.length;t++)e[t]=n.normalize(e[t]);return e};var u=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,s={},l={}.hasOwnProperty;o.trust=function(e){return null==e&&(e=""),n("<",void 0,void 0,e,void 0,void 0)},o.fragment=function(e,t){return n("[",e.key,e,n.normalizeChildren(t),void 0,void 0)};var c=o;if((d=function(e){function t(e,t){return function a(c){var d;try{if(!t||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(d=c.then))l(function(){t||0!==e.length||console.error("Possible unhandled promise rejection:",c);for(var n=0;n<e.length;n++)e[n](c);i.length=0,o.length=0,s.state=t,s.retry=function(){a(c)}});else{if(c===r)throw new TypeError("Promise can't be resolved w/ itself");n(d.bind(c))}}catch(e){u(e)}}}function n(e){function t(e){return function(t){n++>0||e(t)}}var n=0,r=t(u);try{e(t(a),r)}catch(e){r(e)}}if(!(this instanceof d))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var r=this,i=[],o=[],a=t(i,!0),u=t(o,!1),s=r._instance={resolvers:i,rejectors:o},l="function"==typeof setImmediate?setImmediate:setTimeout;n(e)}).prototype.then=function(e,t){function n(e,t,n,a){t.push(function(t){if("function"!=typeof e)n(t);else try{r(e(t))}catch(e){i&&i(e)}}),"function"==typeof o.retry&&a===o.state&&o.retry()}var r,i,o=this._instance,a=new d(function(e,t){r=e,i=t});return n(e,o.resolvers,r,!0),n(t,o.rejectors,i,!1),a},d.prototype.catch=function(e){return this.then(null,e)},d.resolve=function(e){return e instanceof d?e:new d(function(t){t(e)})},d.reject=function(e){return new d(function(t,n){n(e)})},d.all=function(e){return new d(function(t,n){var r=e.length,i=0,o=[];if(0===e.length)t([]);else for(var a=0;a<e.length;a++)!function(a){function u(e){i++,o[a]=e,i===r&&t(o)}null==e[a]||"object"!=typeof e[a]&&"function"!=typeof e[a]||"function"!=typeof e[a].then?u(e[a]):e[a].then(u,n)}(a)})},d.race=function(e){return new d(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})},"undefined"!=typeof window){void 0===window.Promise&&(window.Promise=d);d=window.Promise}else if(void 0!==e){void 0===e.Promise&&(e.Promise=d);var d=e.Promise}var f=function(e){function t(e,r){if(Array.isArray(r))for(i=0;i<r.length;i++)t(e+"["+i+"]",r[i]);else if("[object Object]"===Object.prototype.toString.call(r))for(var i in r)t(e+"["+i+"]",r[i]);else n.push(encodeURIComponent(e)+(null!=r&&""!==r?"="+encodeURIComponent(r):""))}if("[object Object]"!==Object.prototype.toString.call(e))return"";var n=[];for(var r in e)t(r,e[r]);return n.join("&")},m=new RegExp("^file://","i"),h=function(e,t){function n(){function e(){0==--t&&"function"==typeof l&&l()}var t=0;return function n(r){var i=r.then;return r.then=function(){t++;var o=i.apply(r,arguments);return o.then(e,function(n){if(e(),0===t)throw n}),n(o)},r}}function r(e,t){if("string"==typeof e){var n=e;null==(e=t||{}).url&&(e.url=n)}return e}function i(e,t){if(null==t)return e;for(var n=e.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var i=n[r].slice(1);null!=t[i]&&(e=e.replace(n[r],t[i]))}return e}function o(e,t){var n=f(t);return""!==n&&(e+=(e.indexOf("?")<0?"?":"&")+n),e}function a(e){try{return""!==e?JSON.parse(e):null}catch(t){throw new Error(e)}}function u(e){return e.responseText}function s(e,t){if("function"==typeof e){if(!Array.isArray(t))return new e(t);for(var n=0;n<t.length;n++)t[n]=new e(t[n])}return t}var l,c=0;return{request:function(l,c){var d=n();l=r(l,c);var f=new t(function(t,n){null==l.method&&(l.method="GET"),l.method=l.method.toUpperCase();var r="GET"!==l.method&&"TRACE"!==l.method&&("boolean"!=typeof l.useBody||l.useBody);"function"!=typeof l.serialize&&(l.serialize="undefined"!=typeof FormData&&l.data instanceof FormData?function(e){return e}:JSON.stringify),"function"!=typeof l.deserialize&&(l.deserialize=a),"function"!=typeof l.extract&&(l.extract=u),l.url=i(l.url,l.data),r?l.data=l.serialize(l.data):l.url=o(l.url,l.data);var c=new e.XMLHttpRequest,d=!1,f=c.abort;c.abort=function(){d=!0,f.call(c)},c.open(l.method,l.url,"boolean"!=typeof l.async||l.async,"string"==typeof l.user?l.user:void 0,"string"==typeof l.password?l.password:void 0),l.serialize===JSON.stringify&&r&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),l.deserialize===a&&c.setRequestHeader("Accept","application/json, text/*"),l.withCredentials&&(c.withCredentials=l.withCredentials);for(var h in l.headers)({}).hasOwnProperty.call(l.headers,h)&&c.setRequestHeader(h,l.headers[h]);"function"==typeof l.config&&(c=l.config(c,l)||c),c.onreadystatechange=function(){if(!d&&4===c.readyState)try{var e=l.extract!==u?l.extract(c,l):l.deserialize(l.extract(c,l));if(c.status>=200&&c.status<300||304===c.status||m.test(l.url))t(s(l.type,e));else{var r=new Error(c.responseText);for(var i in e)r[i]=e[i];n(r)}}catch(e){n(e)}},r&&null!=l.data?c.send(l.data):c.send()});return!0===l.background?f:d(f)},jsonp:function(a,u){var l=n();a=r(a,u);var d=new t(function(t,n){var r=a.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+c++,u=e.document.createElement("script");e[r]=function(n){u.parentNode.removeChild(u),t(s(a.type,n)),delete e[r]},u.onerror=function(){u.parentNode.removeChild(u),n(new Error("JSONP request failed")),delete e[r]},null==a.data&&(a.data={}),a.url=i(a.url,a.data),a.data[a.callbackKey||"callback"]=r,u.src=o(a.url,a.data),e.document.documentElement.appendChild(u)});return!0===a.background?d:l(d)},setCompletionCallback:function(e){l=e}}}(window,d),v=function(e){function t(e,t,n,i,o,a,u){for(var s=n;s<i;s++){var l=t[s];null!=l&&r(e,l,o,u,a)}}function r(e,t,n,r,s){var c=t.tag;if("string"!=typeof c)return l(e,t,n,r,s);switch(t.state={},null!=t.attrs&&D(t.attrs,t,n),c){case"#":return i(e,t,s);case"<":return o(e,t,s);case"[":return a(e,t,n,r,s);default:return u(e,t,n,r,s)}}function i(e,t,n){return t.dom=U.createTextNode(t.children),_(e,t.dom,n),t.dom}function o(e,t,n){var r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(t.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",i=U.createElement(r);i.innerHTML=t.children,t.dom=i.firstChild,t.domSize=i.childNodes.length;for(var o,a=U.createDocumentFragment();o=i.firstChild;)a.appendChild(o);return _(e,a,n),a}function a(e,n,r,i,o){var a=U.createDocumentFragment();if(null!=n.children){var u=n.children;t(a,u,0,u.length,r,null,i)}return n.dom=a.firstChild,n.domSize=a.childNodes.length,_(e,a,o),a}function u(e,r,i,o,a){var u=r.tag;switch(r.tag){case"svg":o="http://www.w3.org/2000/svg";break;case"math":o="http://www.w3.org/1998/Math/MathML"}var s=r.attrs,l=s&&s.is,c=o?l?U.createElementNS(o,u,{is:l}):U.createElementNS(o,u):l?U.createElement(u,{is:l}):U.createElement(u);if(r.dom=c,null!=s&&L(r,s,o),_(e,c,a),null!=r.attrs&&null!=r.attrs.contenteditable)k(r);else if(null!=r.text&&(""!==r.text?c.textContent=r.text:r.children=[n("#",void 0,void 0,r.text,void 0,void 0)]),null!=r.children){var d=r.children;t(c,d,0,d.length,i,null,o),C(r)}return c}function s(e,t){var r;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(r=e.state.view).$reentrantLock$)return q;r.$reentrantLock$=!0}else{if(e.state=void 0,null!=(r=e.tag).$reentrantLock$)return q;r.$reentrantLock$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(e._state=e.state,null!=e.attrs&&D(e.attrs,e,t),D(e._state,e,t),e.instance=n.normalize(e._state.view.call(e.state,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");r.$reentrantLock$=null}function l(e,t,n,i,o){if(s(t,n),null!=t.instance){var a=r(e,t.instance,n,i,o);return t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0,_(e,a,o),a}return t.domSize=0,q}function c(e,n,i,o,a,u,s){if(n!==i&&(null!=n||null!=i))if(null==n)t(e,i,0,i.length,a,u,void 0);else if(null==i)E(n,0,n.length,i);else{if(n.length===i.length){for(var l=!1,c=0;c<i.length;c++)if(null!=i[c]&&null!=n[c]){l=null==i[c].key&&null==n[c].key;break}if(l){for(c=0;c<n.length;c++)n[c]!==i[c]&&(null==n[c]&&null!=i[c]?r(e,i[c],a,s,y(n,c+1,u)):null==i[c]?E(n,c,c+1,i):d(e,n[c],i[c],a,y(n,c+1,u),o,s));return}}if(o=o||g(n,i)){var f=n.pool;n=n.concat(n.pool)}for(var m,h=0,v=0,p=n.length-1,k=i.length-1;p>=h&&k>=v;)if((S=n[h])!==(x=i[v])||o)if(null==S)h++;else if(null==x)v++;else if(S.key===x.key){M=null!=f&&h>=n.length-f.length||null==f&&o;v++,d(e,S,x,a,y(n,++h,u),M,s),o&&S.tag===x.tag&&_(e,w(S),u)}else if((S=n[p])!==x||o)if(null==S)p--;else if(null==x)v++;else{if(S.key!==x.key)break;M=null!=f&&p>=n.length-f.length||null==f&&o;d(e,S,x,a,y(n,p+1,u),M,s),(o||v<k)&&_(e,w(S),y(n,h,u)),p--,v++}else p--,v++;else h++,v++;for(;p>=h&&k>=v;){var S=n[p],x=i[k];if(S!==x||o)if(null==S)p--;else if(null==x)k--;else if(S.key===x.key){M=null!=f&&p>=n.length-f.length||null==f&&o;d(e,S,x,a,y(n,p+1,u),M,s),o&&S.tag===x.tag&&_(e,w(S),u),null!=S.dom&&(u=S.dom),p--,k--}else{if(m||(m=b(n,p)),null!=x){var T=m[x.key];if(null!=T){var L=n[T],M=null!=f&&T>=n.length-f.length||null==f&&o;d(e,L,x,a,y(n,p+1,u),o,s),_(e,w(L),u),n[T].skip=!0,null!=L.dom&&(u=L.dom)}else u=r(e,x,a,void 0,u)}k--}else p--,k--;if(k<v)break}t(e,i,v,k+1,a,u,s),E(n,h,p+1,i)}}function d(e,t,n,i,o,a,u){var s=t.tag;if(s===n.tag){if(n.state=t.state,n._state=t._state,n.events=t.events,!a&&F(n,t))return;if("string"==typeof s)switch(null!=n.attrs&&(a?(n.state={},D(n.attrs,n,i)):z(n.attrs,n,i)),s){case"#":f(t,n);break;case"<":m(e,t,n,o);break;case"[":h(e,t,n,a,i,o,u);break;default:v(t,n,a,i,u)}else p(e,t,n,i,o,a,u)}else S(t,null),r(e,n,i,u,o)}function f(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children),t.dom=e.dom}function m(e,t,n,r){t.children!==n.children?(w(t),o(e,n,r)):(n.dom=t.dom,n.domSize=t.domSize)}function h(e,t,n,r,i,o,a){c(e,t.children,n.children,r,i,o,a);var u=0,s=n.children;if(n.dom=null,null!=s){for(var l=0;l<s.length;l++){var d=s[l];null!=d&&null!=d.dom&&(null==n.dom&&(n.dom=d.dom),u+=d.domSize||1)}1!==u&&(n.domSize=u)}}function v(e,t,r,i,o){var a=t.dom=e.dom;switch(t.tag){case"svg":o="http://www.w3.org/2000/svg";break;case"math":o="http://www.w3.org/1998/Math/MathML"}"textarea"===t.tag&&(null==t.attrs&&(t.attrs={}),null!=t.text&&(t.attrs.value=t.text,t.text=void 0)),O(t,e.attrs,t.attrs,o),null!=t.attrs&&null!=t.attrs.contenteditable?k(t):null!=e.text&&null!=t.text&&""!==t.text?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(null!=e.text&&(e.children=[n("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=t.text&&(t.children=[n("#",void 0,void 0,t.text,void 0,void 0)]),c(a,e.children,t.children,r,i,null,o))}function p(e,t,i,o,a,u,l){if(u)s(i,o);else{if(i.instance=n.normalize(i._state.view.call(i.state,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");null!=i.attrs&&z(i.attrs,i,o),z(i._state,i,o)}null!=i.instance?(null==t.instance?r(e,i.instance,o,l,a):d(e,t.instance,i.instance,o,a,u,l),i.dom=i.instance.dom,i.domSize=i.instance.domSize):null!=t.instance?(S(t.instance,null),i.dom=void 0,i.domSize=0):(i.dom=t.dom,i.domSize=t.domSize)}function g(e,t){if(null!=e.pool&&Math.abs(e.pool.length-t.length)<=Math.abs(e.length-t.length)){var n=e[0]&&e[0].children&&e[0].children.length||0,r=e.pool[0]&&e.pool[0].children&&e.pool[0].children.length||0,i=t[0]&&t[0].children&&t[0].children.length||0;if(Math.abs(r-i)<=Math.abs(n-i))return!0}return!1}function b(e,t){for(var n={},r=0,r=0;r<t;r++){var i=e[r];if(null!=i){var o=i.key;null!=o&&(n[o]=r)}}return n}function w(e){var t=e.domSize;if(null!=t||null==e.dom){var n=U.createDocumentFragment();if(t>0){for(var r=e.dom;--t;)n.appendChild(r.nextSibling);n.insertBefore(r,n.firstChild)}return n}return e.dom}function y(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function _(e,t,n){n&&n.parentNode?e.insertBefore(t,n):e.appendChild(t)}function k(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function E(e,t,n,r){for(var i=t;i<n;i++){var o=e[i];null!=o&&(o.skip?o.skip=!1:S(o,r))}}function S(e,t){function n(){if(++i===r&&(T(e),e.dom)){var n=e.domSize||1;if(n>1)for(var o=e.dom;--n;)x(o.nextSibling);x(e.dom),null==t||null!=e.domSize||R(e.attrs)||"string"!=typeof e.tag||(t.pool?t.pool.push(e):t.pool=[e])}}var r=1,i=0;if(e.attrs&&"function"==typeof e.attrs.onbeforeremove&&null!=(o=e.attrs.onbeforeremove.call(e.state,e))&&"function"==typeof o.then&&(r++,o.then(n,n)),"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeremove){var o=e._state.onbeforeremove.call(e.state,e);null!=o&&"function"==typeof o.then&&(r++,o.then(n,n))}n()}function x(e){var t=e.parentNode;null!=t&&t.removeChild(e)}function T(e){if(e.attrs&&"function"==typeof e.attrs.onremove&&e.attrs.onremove.call(e.state,e),"string"!=typeof e.tag&&"function"==typeof e._state.onremove&&e._state.onremove.call(e.state,e),null!=e.instance)T(e.instance);else{var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];null!=r&&T(r)}}}function L(e,t,n){for(var r in t)M(e,r,null,t[r],n)}function M(e,t,n,r,i){var o=e.dom;if("key"!==t&&"is"!==t&&(n!==r||P(e,t)||"object"==typeof r)&&void 0!==r&&!A(t)){var a=t.indexOf(":");if(a>-1&&"xlink"===t.substr(0,a))o.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(a+1),r);else if("o"===t[0]&&"n"===t[1]&&"function"==typeof r)H(e,t,r);else if("style"===t)I(o,n,r);else if(t in o&&!j(t)&&void 0===i&&!N(e)){if("input"===e.tag&&"value"===t&&e.dom.value==r&&e.dom===U.activeElement)return;if("select"===e.tag&&"value"===t&&e.dom.value==r&&e.dom===U.activeElement)return;if("option"===e.tag&&"value"===t&&e.dom.value==r)return;if("input"===e.tag&&"type"===t)return void o.setAttribute(t,r);o[t]=r}else"boolean"==typeof r?r?o.setAttribute(t,""):o.removeAttribute(t):o.setAttribute("className"===t?"class":t,r)}}function C(e){var t=e.attrs;"select"===e.tag&&null!=t&&("value"in t&&M(e,"value",null,t.value,void 0),"selectedIndex"in t&&M(e,"selectedIndex",null,t.selectedIndex,void 0))}function O(e,t,n,r){if(null!=n)for(var i in n)M(e,i,t&&t[i],n[i],r);if(null!=t)for(var i in t)null!=n&&i in n||("className"===i&&(i="class"),"o"!==i[0]||"n"!==i[1]||A(i)?"key"!==i&&e.dom.removeAttribute(i):H(e,i,void 0))}function P(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===U.activeElement}function A(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function j(e){return"href"===e||"list"===e||"form"===e||"width"===e||"height"===e}function N(e){return e.attrs.is||e.tag.indexOf("-")>-1}function R(e){return null!=e&&(e.oncreate||e.onupdate||e.onbeforeremove||e.onremove)}function I(e,t,n){if(t===n&&(e.style.cssText="",t=null),null==n)e.style.cssText="";else if("string"==typeof n)e.style.cssText=n;else{"string"==typeof t&&(e.style.cssText="");for(var r in n)e.style[r]=n[r];if(null!=t&&"string"!=typeof t)for(var r in t)r in n||(e.style[r]="")}}function H(e,t,n){var r=e.dom,i="function"!=typeof B?n:function(e){var t=n.call(r,e);return B.call(r,e),t};if(t in r)r[t]="function"==typeof n?i:null;else{var o=t.slice(2);if(void 0===e.events&&(e.events={}),e.events[t]===i)return;null!=e.events[t]&&r.removeEventListener(o,e.events[t],!1),"function"==typeof n&&(e.events[t]=i,r.addEventListener(o,e.events[t],!1))}}function D(e,t,n){"function"==typeof e.oninit&&e.oninit.call(t.state,t),"function"==typeof e.oncreate&&n.push(e.oncreate.bind(t.state,t))}function z(e,t,n){"function"==typeof e.onupdate&&n.push(e.onupdate.bind(t.state,t))}function F(e,t){var n,r;return null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate&&(n=e.attrs.onbeforeupdate.call(e.state,e,t)),"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeupdate&&(r=e._state.onbeforeupdate.call(e.state,e,t)),!(void 0===n&&void 0===r||n||r)&&(e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0)}var B,U=e.document,q=U.createDocumentFragment();return{render:function(e,t){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var r=[],i=U.activeElement;null==e.vnodes&&(e.textContent=""),Array.isArray(t)||(t=[t]),c(e,e.vnodes,n.normalizeChildren(t),!1,r,null,void 0),e.vnodes=t;for(var o=0;o<r.length;o++)r[o]();U.activeElement!==i&&i.focus()},setEventCallback:function(e){return B=e}}},p=function(e){function t(e){var t=i.indexOf(e);t>-1&&i.splice(t,2)}function n(){for(var e=1;e<i.length;e+=2)i[e]()}var r=v(e);r.setEventCallback(function(e){!1!==e.redraw&&n()});var i=[];return{subscribe:function(e,n){t(e),i.push(e,a(n))},unsubscribe:t,redraw:n,render:r.render}}(window);h.setCompletionCallback(p.redraw);c.mount=function(e){return function(t,r){if(null===r)return e.render(t,[]),void e.unsubscribe(t);if(null==r.view&&"function"!=typeof r)throw new Error("m.mount(element, component) expects a component, not a vnode");e.subscribe(t,function(){e.render(t,n(r))}),e.redraw()}}(p);var g=d,b=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},i=0;i<t.length;i++){var o=t[i].split("="),a=decodeURIComponent(o[0]),u=2===o.length?decodeURIComponent(o[1]):"";"true"===u?u=!0:"false"===u&&(u=!1);var s=a.split(/\]\[?|\[/),l=n;a.indexOf("[")>-1&&s.pop();for(var c=0;c<s.length;c++){var d=s[c],f=s[c+1],m=""==f||!isNaN(parseInt(f,10)),h=c===s.length-1;""===d&&(null==r[a=s.slice(0,c).join()]&&(r[a]=0),d=r[a]++),null==l[d]&&(l[d]=h?u:m?[]:{}),l=l[d]}}return n},w=function(e){function t(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function n(e){return function(){null==i&&(i=a(function(){i=null,e()}))}}function r(e,t,n){var r=e.indexOf("?"),i=e.indexOf("#"),o=r>-1?r:i>-1?i:e.length;if(r>-1){var a=i>-1?i:e.length,u=b(e.slice(r+1,a));for(var s in u)t[s]=u[s]}if(i>-1){var l=b(e.slice(i+1));for(var s in l)n[s]=l[s]}return e.slice(0,o)}var i,o="function"==typeof e.history.pushState,a="function"==typeof setImmediate?setImmediate:setTimeout,u={prefix:"#!"};return u.getPath=function(){switch(u.prefix.charAt(0)){case"#":return t("hash").slice(u.prefix.length);case"?":return t("search").slice(u.prefix.length)+t("hash");default:return t("pathname").slice(u.prefix.length)+t("search")+t("hash")}},u.setPath=function(t,n,i){var a={},s={};if(t=r(t,a,s),null!=n){for(var l in n)a[l]=n[l];t=t.replace(/:([^\/]+)/g,function(e,t){return delete a[t],n[t]})}var c=f(a);c&&(t+="?"+c);var d=f(s);if(d&&(t+="#"+d),o){var m=i?i.state:null,h=i?i.title:null;e.onpopstate(),i&&i.replace?e.history.replaceState(m,h,u.prefix+t):e.history.pushState(m,h,u.prefix+t)}else e.location.href=u.prefix+t},u.defineRoutes=function(t,i,a){function s(){var n=u.getPath(),o={},s=r(n,o,o),l=e.history.state;if(null!=l)for(var c in l)o[c]=l[c];for(var d in t){var f=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(f.test(s))return void s.replace(f,function(){for(var e=d.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),a=0;a<e.length;a++)o[e[a].replace(/:|\./g,"")]=decodeURIComponent(r[a]);i(t[d],o,n,d)})}a(n,o)}o?e.onpopstate=n(s):"#"===u.prefix.charAt(0)&&(e.onhashchange=s),s()},u};c.route=function(e,t){var r,i,o,a,u,s=w(e),l=function(e){return e},c=function(e,c,d){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var f=function(){null!=r&&t.render(e,r(n(i,o.key,o)))},m=function(e){if(e===c)throw new Error("Could not resolve default route "+c);s.setPath(c,null,{replace:!0})};s.defineRoutes(d,function(e,t,n){var s=u=function(e,c){s===u&&(i=null==c||"function"!=typeof c.view&&"function"!=typeof c?"div":c,o=t,a=n,u=null,r=(e.render||l).bind(e),f())};e.view||"function"==typeof e?s({},e):e.onmatch?g.resolve(e.onmatch(t,n)).then(function(t){s(e,t)},m):s(e,"div")},m),t.subscribe(e,f)};return c.set=function(e,t,n){null!=u&&(n={replace:!0}),u=null,s.setPath(e,t,n)},c.get=function(){return a},c.prefix=function(e){s.prefix=e},c.link=function(e){e.dom.setAttribute("href",s.prefix+e.attrs.href),e.dom.onclick=function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault(),e.redraw=!1;var t=this.getAttribute("href");0===t.indexOf(s.prefix)&&(t=t.slice(s.prefix.length)),c.set(t,void 0,void 0)}}},c.param=function(e){return void 0!==o&&void 0!==e?o[e]:o},c}(window,p),c.withAttr=function(e,t,n){return function(r){t.call(n||this,e in r.currentTarget?r.currentTarget[e]:r.currentTarget.getAttribute(e))}};var y=v(window);c.render=y.render,c.redraw=p.redraw,c.request=h.request,c.jsonp=h.jsonp,c.parseQueryString=b,c.buildQueryString=f,c.version="1.1.1",c.vnode=n,void 0!==t?t.exports=c:window.m=c}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";t.exports=e("./stream/stream")},{"./stream/stream":4}],4:[function(e,t,n){"use strict";!function(){function e(){function e(){return arguments.length>0&&arguments[0]!==y&&r(e,arguments[0]),e._state.value}return n(e),arguments.length>0&&arguments[0]!==y&&r(e,arguments[0]),e}function n(t){t.constructor=e,t._state={id:w++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0,unregister:void 0},t.map=t["fantasy-land/map"]=d,t["fantasy-land/ap"]=f,t["fantasy-land/of"]=e,t.valueOf=m,t.toJSON=h,t.toString=m,Object.defineProperties(t,{end:{get:function(){if(!t._state.endStream){var n=e();n.map(function(e){return!0===e&&(c(t),n._state.unregister=function(){c(n)}),e}),t._state.endStream=n}return t._state.endStream}}})}function r(e,t){i(e,t);for(var n in e._state.deps)o(e._state.deps[n],!1);null!=e._state.unregister&&e._state.unregister(),a(e)}function i(e,t){e._state.value=t,e._state.changed=!0,2!==e._state.state&&(e._state.state=1)}function o(e,t){var n=e._state.parents;if(n.length>0&&n.every(p)&&(t||n.some(g))){var r=e._state.derive();if(r===y)return!1;i(e,r)}}function a(e){e._state.changed=!1;for(var t in e._state.deps)e._state.deps[t]._state.changed=!1}function u(t,n){if(!n.every(v))throw new Error("Ensure that each item passed to stream.combine/stream.merge is a stream");return s(e(),n,function(){return t.apply(this,n.concat([n.filter(g)]))})}function s(e,t,n){var r=e._state;return r.derive=n,r.parents=t.filter(b),l(e,r.parents),o(e,!0),e}function l(e,t){for(var n=0;n<t.length;n++)t[n]._state.deps[e._state.id]=e,l(e,t[n]._state.parents)}function c(e){for(var t=0;t<e._state.parents.length;t++)delete e._state.parents[t]._state.deps[e._state.id];for(var n in e._state.deps){var r=e._state.deps[n],i=r._state.parents.indexOf(e);i>-1&&r._state.parents.splice(i,1)}e._state.state=2,e._state.deps={}}function d(e){return u(function(t){return e(t())},[this])}function f(e){return u(function(e,t){return e()(t())},[e,this])}function m(){return this._state.value}function h(){return null!=this._state.value&&"function"==typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function v(e){return e._state}function p(e){return 1===e._state.state}function g(e){return e._state.changed}function b(e){return 2!==e._state.state}var w=0,y={};e["fantasy-land/of"]=e,e.merge=function(e){return u(function(){return e.map(function(e){return e()})},e)},e.combine=u,e.scan=function(e,t,n){var r=u(function(n){return t=e(t,n._state.value)},[n]);return 0===r._state.state&&r(t),r},e.scanMerge=function(e,t){var n=e.map(function(e){var t=e[0];return 0===t._state.state&&t(void 0),t});return u(function(){var r=arguments[arguments.length-1];return n.forEach(function(n,i){r.indexOf(n)>-1&&(t=e[i][1](t,n._state.value))}),t},n)},e.HALT=y,void 0!==t?t.exports=e:"function"!=typeof window.m||"stream"in window.m?window.m={stream:e}:window.m.stream=e}()},{}],5:[function(e,t,n){"use strict";function r(e,t){return e&&e.author?i(".comment",i(".head",{onclick:function(e){e.currentTarget.parentElement.classList.toggle("collapsed"),e.redraw=!1}},i("span.author",e.author),i("span.meta"," "+e.score+" points "+o.default(t-+e.created_utc),e.edited&&"*",e.gilded>0&&i("span.symbol",i.trust("&#10024;")),e.controversiality>0&&i("span.symbol",i.trust("&dagger;")))),i(".body",e.body),e.replies.map(function(e){return r(e,t)})):null}Object.defineProperty(n,"__esModule",{value:!0});var i=e("mithril"),o=e("../../lib/age");n.default=function(e,t){return i(".comments",e.map(function(e){return r(e,t)}))}},{"../../lib/age":27,mithril:2}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../lib/browser"),o=e("../../lib/age"),a=e("./thumb"),u=e("./comments");n.default=function(e,t){var n=Date.now()/1e3;return r(".article",r(".content-block",t.articleThumbs&&a.default(e),r(".title",e.is_self?r.trust(e.title):r("a",i.isMobile.iOS&&i.isStandalone?{href:e.url}:{href:e.url,target:"_blank",rel:"noopener"},r.trust(e.title))),r("p.info",e.domain+" [+"+e.score+"] ",r("a",{href:"/r/"+e.subreddit,onclick:function(t){t.preventDefault(),t.redraw=!1,r.route.set("/r/"+e.subreddit,void 0,{replace:!0})}},"/r/"+e.subreddit)," "+o.default(n-e.created_utc)+" by "+e.author),e.body&&r("p.body",e.body)),u.default(e.comments,n))}},{"../../lib/age":27,"../../lib/browser":29,"./comments":5,"./thumb":8,mithril:2}],7:[function(e,t,n){"use strict";function r(e,t){return i(".panel.panel-article",i(".panel-head",i(".btn-panelnav",{style:{marginRight:"0.5em"},onclick:function(e){e.redraw=!1,window.history.back()}},i.trust("&#9666;")),i("div",{style:{display:"inline-block"}},"Article comments")),i(".panel-content",e?s.default(e,t):i(".content-loading","Loading...")))}Object.defineProperty(n,"__esModule",{value:!0});var i=e("mithril"),o=e("mithril/stream"),a=e("../../models/article"),u=e("../../models/options"),s=e("./content");n.default=o.combine(function(e,t){return r(e(),t())},[a.article,u.preferences])},{"../../models/article":38,"../../models/options":41,"./content":6,mithril:2,"mithril/stream":3}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../models/viewer");n.default=function(e){var t=e.thumb;return t?r(".thumb",r("img",{style:{width:t.width,height:t.height},onclick:function(t){i.default(e),t.redraw=!1,r.route.set("/viewer")},onload:function(e){e.currentTarget.classList.add("show"),e.redraw=!1},src:t.url})):null}},{"../../models/viewer":43,mithril:2}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../lib/slider"),o=e("../../lib/slider3"),a=e("./menu-sort");n.default=function(e,t){return r(".panel-head",r("div",{style:{float:"left",maxWidth:"70%",overflow:"hidden",whiteSpace:"nowrap"}},r(".btn-panelnav",{style:{marginRight:"0.5em"},onclick:function(e){e.redraw=!1,o.default.getLayout()===i.CENTER?r.route.set("/options"):window.history.back()}},r.trust("&#9666;")),r("div",{style:{display:"inline-block"}},t)),r("div",{style:{float:"right",textAlign:"right"}},a.default(e),r(".btn-panelnav",{style:{marginLeft:"0.25em"},onclick:function(e){e.redraw=!1,o.default.getLayout()===i.CENTER?r.route.set("/sidebar"):window.history.back()}},r.trust("&#9656;"))))}},{"../../lib/slider":33,"../../lib/slider3":34,"./menu-sort":14,mithril:2}],10:[function(e,t,n){"use strict";function r(e,t,n,r){return i(".panel.panel-feed",s.default(t,n),i(".panel-content",e?[i(".item-list",l.default(e.items,r)),e.after&&c.default(e.after)]:i(".content-loading","loading...")))}Object.defineProperty(n,"__esModule",{value:!0});var i=e("mithril"),o=e("mithril/stream"),a=e("../../models/feed"),u=e("../../models/options"),s=e("./head"),l=e("./item-list"),c=e("./loadmore");n.default=o.combine(function(e,t){return r(e(),a.subreddit(),a.title(),t())},[a.itemList,u.preferences])},{"../../models/feed":39,"../../models/options":41,"./head":9,"./item-list":11,"./loadmore":13,mithril:2,"mithril/stream":3}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./item");n.default=function(e,t){var n=Date.now()/1e3;return(t.nsfw?e:e.filter(function(e){return!e.over_18})).map(function(e){return r.default(e,n,t)})}},{"./item":12}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../lib/age"),o=e("../../lib/browser"),a=e("./thumb");n.default=function(e,t,n){return r(".item",{key:e.id},r(".left",n.feedThumbs&&e.thumbnail&&a.default(e),e.is_self?r("p",{class:"title self"},r("a",{href:e.permalink,oncreate:r.route.link},r.trust(e.title))):r("p",{class:"title"},r("a",o.isMobile.iOS&&o.isStandalone?{href:e.url}:{href:e.url,target:"_blank",rel:"noopener"},r.trust(e.title))),r("p.details","("+e.domain+") "+e.score+" points by "+e.author+" in "+e.subreddit+" "+i.default(t-e.created_utc))),r(".right",{onclick:function(t){t.redraw=!1,r.route.set(e.permalink)}},r("p","“"+e.num_comments+"”")))}},{"../../lib/age":27,"../../lib/browser":29,"./thumb":15,mithril:2}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../models/feed");n.default=function(e){return r(".loadmore-block",{onclick:function(){i.loadMore(e)}},"load more articles...")}},{"../../models/feed":39,mithril:2}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../models/menu"),o=[{id:"hot",text:"Hot"},{id:"new",text:"New"},{id:"rising",text:"Rising"},{id:"controversial",text:"Controversial"},{id:"top",text:"Top"}];n.default=function(e){return r(".btn-panelnav",{onclick:function(t){i.default({title:"Sort by",items:o.map(function(e){return{id:e.id,text:e.text}}),onselect:function(t){r.route.set("/r/"+e+"/"+t)}}),t.redraw=!1,r.route.set("/menu")}},r.trust("&middot;&middot;&middot;"))}},{"../../models/menu":40,mithril:2}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../models/viewer");n.default=function(e){return r("img.thumb",{onclick:function(t){i.default(e),t.redraw=!1,r.route.set("/viewer")},onload:function(e){e.currentTarget.classList.add("show"),e.redraw=!1},src:e.thumbnail})}},{"../../models/viewer":43,mithril:2}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("./viewer"),o=e("./menu"),a=e("./feed"),u=e("./options"),s=e("./sidebar"),l=e("./article");n.default={view:function(e){var t=e.attrs,n=t.menuOpen,c=t.viewerOpen;return r(".freddy",u.default(),s.default(),a.default(),l.default(),c&&r(i.default),n&&r(o.default),r(".logger"))}}},{"./article":7,"./feed":10,"./menu":18,"./options":19,"./sidebar":24,"./viewer":26,mithril:2}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril");n.default=r.trust('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 255.10962 289.3222" class="svg-logo"><path d="M255.11 0l-23.242 260.36-104.47 28.962-104.181-28.921L0 0h255.11z" fill="#e44d26"/><path d="M127.555 267.185l84.417-23.404 19.86-222.49H127.556v245.894z" fill="#f18429"/><g transform="matrix(.5596 0 0 .5596 39.078 32.855)"><circle transform="matrix(12.58495 0 0 12.58495 -606.282 6.476)" r="2.702" cy="11.836" cx="49.684" fill="#fff" stroke="#321e1e" stroke-width="1.42"/><circle transform="matrix(12.58495 0 0 12.58495 -606.282 6.476)" r="2.702" cy="11.836" cx="71.786" fill="#fff" stroke="#321e1e" stroke-width="1.42"/><path d="M252.339 36.076l-68.01-16.008-24.993 79.008" fill="none" stroke="#321e1e" stroke-width="17.87" stroke-linecap="round" stroke-linejoin="round"/><circle transform="matrix(12.58495 0 0 12.58495 -606.282 6.476)" r="2.13" cy="2.789" cx="70.431" fill="#fff" stroke="#321e1e" stroke-width="1.42"/><ellipse transform="matrix(12.58495 0 0 12.58495 -606.282 6.476)" ry="7.987" rx="12.238" cy="15.552" cx="60.676" fill="#fff" stroke="#321e1e" stroke-width="1.42"/><path d="M103.971 157.504c-13.68 0-25.156 11.476-25.156 25.156 0 13.68 11.476 24.782 25.156 24.782 13.68 0 24.781-11.102 24.781-24.782s-11.1-25.156-24.78-25.156zM212.534 157.504c-13.687 0-25.188 11.47-25.188 25.156 0 13.687 11.5 24.782 25.188 24.782 13.687 0 24.78-11.095 24.78-24.782 0-13.686-11.093-25.156-24.78-25.156z" fill="#ff4500"/><path d="M104.856 248.472c13.415 13.416 35.061 15.996 53.008 15.996M211.274 248.472c-13.428 13.416-35.062 15.996-53.02 15.996" fill="none" stroke="#321e1e" stroke-width="13.843445000000001" stroke-linecap="round"/><circle transform="matrix(12.58495 0 0 12.58495 -781.196 145.9)" r="2.13" cy="2.789" cx="70.431" fill="#60d9ff" stroke="#321e1e" stroke-width="1.1"/><circle transform="matrix(12.58495 0 0 12.58495 -676.417 145.9)" r="2.13" cy="2.789" cx="70.431" fill="#60d9ff" stroke="#321e1e" stroke-width="1.1"/><path fill="#321e1e" d="M129.335 162.289h56.615v16.9h-56.615z"/></g></svg>')},{mithril:2}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../lib/wait"),o=e("../../models/menu");n.default={oncreate:function(e){var t=e.dom;i.default(1).then(function(){t.classList.add("show")})},onbeforeremove:function(e){var t=e.dom;return t.classList.remove("show"),new Promise(function(e){t.addEventListener("transitionend",e)})},view:function(){var e=o.default();{if(e)return r(".menu",{onclick:function(e){e.redraw=!1,window.history.back()}},r(".content",r(".block",r(".title",e.title),r(".items",e.items.map(function(t){return r(".item",{onclick:function(n){n.stopPropagation(),n.redraw=!1,e.onselect&&i.default(2).then(function(){e.onselect&&e.onselect(t.id),r.redraw()}),window.history.back()}},t.text)})))));console.warn("menuContent empty")}}}},{"../../lib/wait":36,"../../models/menu":40,mithril:2}],19:[function(e,t,n){"use strict";function r(e,t){return i(".panel.panel-options",i(".panel-head",i("div",{style:{display:"inlineBlock"}},u.default,i("span","Freddy"))),i(".panel-content",i(".options-content",i("h2","Subreddits"),s.default(t),i("hr"),i(l.default),i("hr"),i(".options-block",i("h2","Preferences:"),i("p",{style:{marginBottom:"1em"}},i("span","Theme:"),i("button",{style:{marginLeft:"0.4em"},onclick:function(e){o.default({title:"Select Theme",text:"",items:a.THEMES.map(function(e){return{id:e.name,text:e.title}})}),e.redraw=!1,i.route.set("/menu")}},"Default"),c.default("articleThumbs","Show article images"),c.default("feedThumbs","Show thumbnail images"),c.default("nsfw","Show NSFW content (18+)")),i("hr"),i("p",{style:{textAlign:"center",margin:"1em 0"},onclick:function(e){o.default({title:"Reset all Subreddits and preferences to defaults?",text:"",items:[{id:"yes",text:"Yes"},{id:"no",text:"No"}],onselect:function(e){"yes"===e&&a.reset()}}),e.redraw=!1,i.route.set("/menu")}},i("button","Reset to defaults"))))))}Object.defineProperty(n,"__esModule",{value:!0});var i=e("mithril"),o=e("../../models/menu"),a=e("../../models/options"),u=e("../logo"),s=e("./subreddit-list"),l=e("./subreddit-add"),c=e("./pref-check");n.default=a.options.map(function(e){return r(e.preferences,e.subreddits)})},{"../../models/menu":40,"../../models/options":41,"../logo":17,"./pref-check":20,"./subreddit-add":21,"./subreddit-list":22,mithril:2}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../models/options");n.default=function(e,t){return r("p",r("input",{type:"checkbox",checked:i.getPref(e),onchange:function(t){i.setPref(e,t.currentTarget.checked)}}),r("span"," "+t))}},{"../../models/options":41,mithril:2}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("mithril/stream"),o=e("../../models/options");n.default={newSub:void 0,oninit:function(){this.newSub=i()},view:function(){var e=this;return r(".subreddit-add-block",r("h2","Add Subreddit:"),r("p",r("input",{class:"txt-subreddit-add",type:"text",maxlength:"21",oninput:function(t){e.newSub(t.currentTarget.value),t.redraw=!1},value:this.newSub()}),r("button",{style:{marginLeft:"0.4em"},onclick:function(){o.addSubreddit(e.newSub()),e.newSub("")}},"Add")))}}},{"../../models/options":41,mithril:2,"mithril/stream":3}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../models/options"),o=e("../../models/menu");n.default=function(e){return r(".subreddit-list",e.map(function(e){return"frontpage"===e.toLowerCase()?r(".subreddit-item",{key:e,onclick:function(e){e.redraw=!1,r.route.set("/",void 0,{replace:!0})}},e):r(".subreddit-item",{key:e,onclick:function(t){t.redraw=!1,r.route.set("/r/"+e,void 0,{replace:!0})}},r(".subreddit-item-text","/r/"+e),r(".subreddit-item-delete",{onclick:function(t){t.stopPropagation(),o.default({title:'Are you sure you want to delete the subreddit "'+e+'"',items:[{id:"yes",text:"Yes"},{id:"no",text:"No"}],onselect:function(t){"yes"===t&&i.removeSubreddit(e)}}),t.redraw=!1,r.route.set("/menu")}},"-"),r("br",{clear:"all"}))}))}},{"../../models/menu":40,"../../models/options":41,mithril:2}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../lib/browser");n.default=function(){return r("div",{style:{padding:"1em 0.4em 0 0"}},r("p",r("strong","Freddy.")," A fast Reddit reader."),r("p.small","© 2016-2017 By Mike Linkovich"),r("p",{style:{paddingTop:"0.5em"}},r("a",i.isStandaloneIOS?{href:"https://github.com/spacejack/freddy"}:{href:"https://github.com/spacejack/freddy",target:"_blank",rel:"noopener"},"Github Repo")),!i.isStandalone&&r("p",{style:{fontSize:"0.75em"}},"This app works better when you add it to your homescreen."))}},{"../../lib/browser":29,mithril:2}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../models/feed"),o=e("./app-info"),a=e("./subreddit-info");n.default=i.about.map(function(e){return r(".panel.panel-sidebar",r(".panel-head","Sidebar"),r(".panel-content",o.default(),e&&a.default(e)))})},{"../../models/feed":39,"./app-info":23,"./subreddit-info":25,mithril:2}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril");n.default=function(e){return r("div",{style:{padding:"1em 0.4em 0 0"}},r("hr"),r("h2",e.display_name),r(".meta-body",r("p","Subscribers: ","number"==typeof e.subscribers?String(e.subscribers.toString()):"?"),r("p",e.body)))}},{mithril:2}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("../../lib/wait"),o=e("../../models/viewer");n.default={imgUrl:"",oninit:function(){var e=o.default();e&&e.image?this.imgUrl=e.image.url:console.warn("No item for viewer to display")},oncreate:function(e){var t=e.dom,n=new Image;n.onload=function(){t.querySelector(".content").classList.add("show")},n.src=this.imgUrl,i.default(1).then(function(){t.classList.add("show")})},onbeforeremove:function(e){var t=e.dom;return t.classList.remove("show"),new Promise(function(e){t.addEventListener("transitionend",e)})},view:function(){return r(".viewer",{onclick:function(e){e.redraw=!1,window.history.back()}},r(".content",{touchAction:"none",onclick:function(e){e.stopPropagation(),e.redraw=!1,window.history.back()},style:{backgroundImage:"url("+this.imgUrl+")"}}))}}},{"../../lib/wait":36,"../../models/viewer":43,mithril:2}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=60,i=3600,o=86400,a=1036800,u=31536e3;n.default=function(e){var t,n,s,l=e;return l<r?n="just now":(l<i?(t=Math.round(l/r),s="minute"):l<o?(t=Math.round(l/i),s="hour"):l<a?(t=Math.round(l/o),s="day"):l<u?(t=Math.round(l/a),s="month"):(t=Math.round(l/u),s="year"),t>1&&(s+="s"),n=t+" "+s+" ago"),n}},{}],28:[function(e,t,n){"use strict";function r(e,t){e.style.transform="translate3d("+t+"px,0,0)"}function i(e,t,n,r,i){function o(){var s,l=Date.now()-a;l>=n?(r(t),i&&i()):(s=Math.pow(l/n,.4),r(e+s*u),requestAnimationFrame(o))}var a=Date.now(),u=t-e;o()}Object.defineProperty(n,"__esModule",{value:!0}),n.setPosX=r,n.easeOutLoop=i,n.easeOutX=function(e,t,n,o,a){i(t,n,o,function(t){r(e,t)},a)}},{}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.protocol=window.location.protocol,n.hostname=window.location.hostname,n.port=window.location.port,n.baseUrl=n.protocol+"//"+n.hostname+(n.port?":"+n.port:""),n.pixelRatio=window.devicePixelRatio||1,n.isSecure=n.protocol.indexOf("https")>=0,n.isFramed=window.self!==window.top,n.screenSize={width:window.screen.width*n.pixelRatio,height:window.screen.height*n.pixelRatio},n.isStandalone=null!=navigator.standalone?!!navigator.standalone:window.external&&window.external.msIsSiteMode?window.external.msIsSiteMode():!!window.matchMedia("(display-mode: standalone)").matches;var r=["spacejack.ca","spacejack.github"];n.domainIsLocal=function(e){var t=((e||n.hostname)+"").toLowerCase();return r.find(function(e){return t.indexOf(e)>=0})},n.isMobile=function(){var e=!!navigator.userAgent.match(/Android/i),t=!!navigator.userAgent.match(/BlackBerry/i),n=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),r=!!navigator.userAgent.match(/Opera Mini/i),i=!!navigator.userAgent.match(/IEMobile/i),o=!!navigator.userAgent.match(/\(Mobile/i);return{Android:e,BlackBerry:t,iOS:n,Opera:r,Windows:i,FireFox:o,any:e||t||n||r||i||o}}(),n.isStandaloneIOS=n.isStandalone&&n.isMobile.iOS},{}],30:[function(e,t,n){"use strict";function r(){d&&!f&&(window.addEventListener("touchmove",function(){}),f=!0)}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./speedo"),o=0,a=1,u=2,s=300,l=12,c=1.5;n.default=function(e,t){function n(e){j!==u&&(y(),0===e.button&&(j=a,window.addEventListener("mousemove",d),window.addEventListener("mouseup",f),p(e.clientX,e.clientY)))}function d(e){g(e.clientX,e.clientY,e)}function f(e){window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",f),b(e.clientX,e.clientY)}function m(t){if(j!==a){y(),j=u,e.addEventListener("touchmove",h),e.addEventListener("touchend",v);var n=t.changedTouches[0];p(n.clientX,n.clientY)}}function h(e){var t=e.changedTouches[0];g(t.clientX,t.clientY,e)}function v(t){e.removeEventListener("touchmove",h),e.removeEventListener("touchend",v);var n=t.changedTouches[0];b(n.clientX,n.clientY)}function p(e,t){N=!1,R=!0,H.x=e,H.y=t,A.start(0,Date.now()/1e3),document.addEventListener("scroll",w,!0)}function g(e,t,n){if(R){var r=e-H.x;null!=O&&(r=Math.max(r,O())),null!=P&&(r=Math.min(r,P()));var i=t-H.y;if(A.addSample(r,Date.now()/1e3),!I){var o=0!==i?Math.abs(r/i):1e9;if(Math.abs(r)<L||o<C)return;I=!0,k&&k(r)}n.preventDefault(),E&&E(r,A.getVel())}}function b(e,t){if(document.removeEventListener("scroll",w,!0),R=!1,I){I=!1;var n=e-H.x;A.addSample(n,Date.now()/1e3),setTimeout(function(){R||(j=o)},s),S&&S(n,A.getVel())}}function w(e){N=!0,y()}function y(){R&&(j===a?(window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",f)):j===u&&(e.removeEventListener("touchmove",h),e.removeEventListener("touchend",v)),document.removeEventListener("scroll",w,!0),R=!1,I&&(I=!1,x&&x()))}var _=void 0===t?{}:t,k=_.ondragstart,E=_.ondragmove,S=_.ondragend,x=_.ondragcancel,T=_.dragThreshold,L=void 0===T?l:T,M=_.dragRatio,C=void 0===M?c:M,O=_.maxLeft,P=_.maxRight;r();var A=i.default(),j=o,N=!1,R=!1,I=!1,H={x:0,y:0};return e.addEventListener("mousedown",n),e.addEventListener("touchstart",m),{destroy:function(){e.removeEventListener("mousedown",n),window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",d),e.removeEventListener("touchstart",m),e.removeEventListener("touchend",v),e.removeEventListener("touchmove",h),document.removeEventListener("scroll",w,!0)}}};var d=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),f=!1},{"./speedo":35}],31:[function(e,t,n){"use strict";function r(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0].nodeValue||""}function i(e){if(e)return e.startsWith("/r/")?"#!"+e:e.startsWith("http://www.reddit.com/r/")?"#!"+e.substr(21):e.startsWith("https://www.reddit.com/r/")?"#!"+e.substr(22):e.startsWith("http://reddit.com/r/")?"#!"+e.substr(17):e.startsWith("https://reddit.com/r/")?"#!"+e.substr(18):void 0}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./browser");n.unescape=r,n.prepEscapedHtml=function(e){var t=document.createElement("div");t.innerHTML=r(e);for(var n=t.querySelectorAll("a"),a=0;a<n.length;++a){var u=n[a],s=u.href,l=s.startsWith(o.baseUrl)?"https://www.reddit.com"+s.substr(o.baseUrl.length):s,c=i(l);c&&(l=c),l!==s&&(u.href=l),o.isStandaloneIOS||"#"===l[0]||(u.target="_blank",u.rel="noopener")}return t.innerHTML},n.appLink=i},{"./browser":29}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sign=function(e){return e>0?1:e<0?-1:0},n.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},n.length2d=function(e,t){return Math.sqrt(e*e+t*t)},n.pmod=function(e,t){return(e%t+t)%t},n.roundFrac=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}},{}],33:[function(e,t,n){"use strict";function r(e,t,r,l,c){function d(e){var t=_(),n=s.clamp(w()*t+e,-t,t);S(n/t)}function f(n,r){var i=_(),o=y(),a=w(),u=n/i+a,l=r/o,c=a,d=!1;if(Math.abs(n+l*o*.2)>i/2){var f=s.sign(n+50*l);c=s.clamp(a+f,e,t),d=!0}else l=0;m(u,c,Math.abs(.25*l)).then(function(e){d&&g&&g(e)})}function m(e,t,n){void 0===n&&(n=0),e=s.clamp(e,-1,1);var r=t-e,i=Math.max(n,1),o=l*Math.abs(r)/i;return new Promise(function(n){u.easeOutLoop(e,t,o,S,function(){w(t),requestAnimationFrame(function(){n(w())})})})}function h(){if(p){var e=p.getBoundingClientRect();y(e.width)}}var v,p,g,b,w=o(c),y=o(100),_=y.map(function(e){return e*r}),k=o.combine(function(t,n){return n()*(e-t())},[w,_]),E=o.combine(function(e,n){return n()*(t-e())},[w,_]),S=o(w()),x=S.map(function(e){return"translate3d("+i(e*r*100)+",0,0)"});return{mount:function(e,t){null==v?(g=t,p=e,x.map(function(e){p.style.transform=e}),v=a.default(p,{ondragstart:d,ondragmove:d,ondragend:f,maxLeft:k,maxRight:E}),window.addEventListener("resize",h),h()):console.warn("slider already mounted")},unmount:function(){null!=v?(v.destroy(),v=void 0,x.end(!0),g=v=p=void 0,w(n.CENTER),window.removeEventListener("resize",h)):console.warn("slider not mounted")},xpos:S,setLayout:function(e){return e===w()||e===b?Promise.resolve(e):(b=e,m(w(),e).then(function(e){return b=void 0,e}))},getLayout:w}}function i(e){var t=s.roundFrac(e,4);return 0===t?"0":t+"%"}Object.defineProperty(n,"__esModule",{value:!0});var o=e("mithril/stream"),a=e("../lib/dragger"),u=e("../lib/anim"),s=e("../lib/math");n.LEFT=-1,n.CENTER=0,n.RIGHT=1,n.create=r,n.pctStr=i,n.default=r(n.CENTER,n.RIGHT,1.05,340,n.RIGHT)},{"../lib/anim":28,"../lib/dragger":30,"../lib/math":32,"mithril/stream":3}],34:[function(e,t,n){"use strict";function r(e,t,n,r,o){function a(e){return i.pctStr(100*(.5*e-.5))}function u(e){return i.pctStr(100*((.5*e+.5)*n+(1-n)))}var s,l,c,d=i.create(e,t,n,r,o);return{mount:function(e,t,n,r){c?console.warn("slider3 already mounted"):(d.mount(e,r),s=t,l=n,(c=d.xpos.map(function(e){return e})).map(function(e){s.style.transform="translate3d("+a(e)+",0,0)",l.style.transform="translate3d("+u(e)+",0,0)"}))},unmount:function(){c?(d.unmount(),c.end(!0),c=s=l=void 0):console.warn("slider3 already unmounted")},getLayout:d.getLayout,setLayout:d.setLayout}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./slider");n.create=r,n.default=r(i.LEFT,i.RIGHT,.87,300,i.CENTER)},{"./slider":33}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./math"),i=4;n.default=function(e){void 0===e&&(e=i);for(var t=0,n=0,o=new Array(e),a=0;a<e;++a)o[a]={x:0,t:0};return{start:function(e,r){n=0,o[t=0].x=e,o[t].t=r,t=1,n=1},addSample:function(r,i){o[t].x=r,o[t].t=i,t=(t+1)%e,n+=1},getVel:function(){if(n<1)return 0;var i=n>e?e:n,a=r.pmod(t-1,e),u=r.pmod(t-i,e),s=o[a].t-o[u].t;return(o[a].x-o[u].x)/s}}}},{"./math":32}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return!e||e<1?Promise.resolve():new Promise(function(t){function n(){r>=e?t():(++r,requestAnimationFrame(n))}var r=0;n()})}},{}],37:[function(e,t,n){"use strict";function r(){o.route(document.body,"/",c.default),a.default(2).then(function(){var e=document.querySelector(".freddy");u.default.mount(e.querySelector(".panel-feed"),e.querySelector(".panel-options"),e.querySelector(".panel-sidebar"),function(e){e===s.CENTER?window.history.back():e===s.LEFT?o.route.set("/sidebar"):e===s.RIGHT&&o.route.set("/options")}),s.default.mount(e.querySelector(".panel-article"),function(e){e===s.RIGHT&&window.history.back()})})}Object.defineProperty(n,"__esModule",{value:!0});var i=e("fastclick"),o=e("mithril"),a=e("./lib/wait"),u=e("./lib/slider3"),s=e("./lib/slider"),l=e("./models/options"),c=e("./routes");i(document.body),l.load(),"#!/options"===window.location.hash||"#!/sidebar"===window.location.hash?(window.history.replaceState(void 0,"","#!/"),a.default(1).then(r)):r(),t.hot&&t.hot.accept()},{"./lib/slider":33,"./lib/slider3":34,"./lib/wait":36,"./models/options":41,"./routes":44,fastclick:1,mithril:2}],38:[function(e,t,n){"use strict";function r(e){var t=JSON.parse(e),n=t[0].data.children[0].data,r=t[1].data.children;return{id:n.id,title:n.title,url:n.url,permalink:n.permalink,author:n.author,subreddit:n.subreddit,is_self:n.is_self,body:n.selftext_html?u.trust(c.prepEscapedHtml(n.selftext_html)):void 0,domain:n.domain,score:n.score,created_utc:n.created_utc,num_comments:n.num_comments,over_18:n.over_18,thumbnail:n.thumbnail,image:f.getItemImage(n),upvote_ratio:n.upvote_ratio,thumb:i(n),comments:r.map(function(e){return o(e.data)})}}function i(e){var t,r,i=n.THUMB_MAX_WIDTH,o=n.THUMB_MAX_HEIGHT;if(!e.is_self&&e.thumbnail&&"self"!==e.thumbnail&&!((t=e.thumbnail).indexOf("http://")<0&&t.indexOf("https://")<0)){if(e.preview&&(r=e.preview.images)&&r.length>0){var u=r[0].source;i=u.width,o=u.height}l.isSecure&&(t=t.replace("http://","https://"));var s=Math.min(Math.round(i/o*n.THUMB_MAX_HEIGHT),n.THUMB_MAX_WIDTH),c=n.THUMB_MAX_HEIGHT;return{url:t,width:a(s)+"em",height:a(c)+"em"}}}function o(e){return{author:e.author,body:u.trust(c.prepEscapedHtml(e.body_html)),score:e.score,created_utc:e.created_utc,edited:e.edited,gilded:e.gilded,controversiality:e.controversiality,replies:e.replies?e.replies.data.children.map(function(e){return o(e.data)}):[]}}function a(e){return d.roundFrac(e/18,3)}Object.defineProperty(n,"__esModule",{value:!0});var u=e("mithril"),s=e("mithril/stream"),l=e("../lib/browser"),c=e("../lib/html"),d=e("../lib/math"),f=e("./feed"),m=e("./reddit");n.THUMB_MAX_HEIGHT=133,n.THUMB_MAX_WIDTH=200;var h;n.article=s(void 0),n.load=function(e,t){h!==e&&(h=e,n.article(void 0),e=m.REDDIT_BASE_URL+e+".json",u.request({url:e,extract:function(e){return e.responseText},background:!0}).then(function(e){t?t.then(function(){n.article(r(e)),u.redraw()}):(n.article(r(e)),u.redraw())}))}},{"../lib/browser":29,"../lib/html":31,"../lib/math":32,"./feed":39,"./reddit":42,mithril:2,"mithril/stream":3}],39:[function(e,t,n){"use strict";function r(e){return{id:e.id,title:e.title,url:e.url,permalink:e.permalink,author:e.author,subreddit:e.subreddit,is_self:e.is_self,domain:e.domain,score:e.score,created_utc:e.created_utc,num_comments:e.num_comments,over_18:e.over_18,thumbnail:e.thumbnail&&e.thumbnail.startsWith("https://")?e.thumbnail:"",image:a(e)}}function i(e){var t=JSON.parse(e);return{items:t.data.children.map(function(e){return r(e.data)}),before:t.data.before,after:t.data.after}}function o(e){var t=JSON.parse(e).data;return{display_name:t.display_name,body:c.trust(h.prepEscapedHtml(t.description_html)),subscribers:t.subscribers}}function a(e){if(e.preview&&e.preview.images&&!(e.preview.images.length<1)){var t=e.preview.images[0].resolutions;if(t&&!(t.length<1)){var n=u(t,m.screenSize.width,m.screenSize.height);return n?{url:h.unescape(n.url),width:n.width,height:n.height}:void 0}}}function u(e,t,n){for(var r=e.length,i=0;i<r;++i){var o=e[i];if(o.width>=t||o.height>=n)return o}return e[r-1]}function s(e){var t=n.itemList();if(!t)throw new Error("Cannot appendData - no existing list");for(var i=t.items,o=e.data.children,a=0;a<o.length;++a)!function(e){var t=o[e];i.find(function(e){return e.id===t.data.id})||i.push(r(t.data))}(a);t.after=e.data.after,n.itemList(t)}function l(e,t){return"frontpage"===e.toLowerCase()?{feed:f.REDDIT_BASE_URL+"/"+(t||"")+".json",about:void 0}:{feed:f.REDDIT_BASE_URL+"/r/"+e+(t?"/"+t:"")+".json",about:f.REDDIT_BASE_URL+"/r/"+e+"/about.json"}}Object.defineProperty(n,"__esModule",{value:!0});var c=e("mithril"),d=e("mithril/stream"),f=e("./reddit"),m=e("../lib/browser"),h=e("../lib/html");n.itemList=d(void 0),n.about=d(void 0),n.order=d(""),n.title=d(""),n.subreddit=d(""),n.sortby=d(void 0),n.getItemImage=a,n.load=function(e,t,r){if(n.subreddit()!==e||n.sortby()!==t){n.subreddit(e),n.sortby(t),n.title("frontpage"===e.toLowerCase()?"Frontpage":"/r/"+e),n.itemList(void 0),n.about(void 0);var a=l(e,t);n.order(t&&"hot"!==t?t:""),c.request({url:a.feed,method:"GET",extract:function(e){return e.responseText},background:!0}).then(function(e){r?r.then(function(){n.itemList(i(e)),c.redraw()}):(n.itemList(i(e)),c.redraw())}),a.about&&c.request({url:a.about,method:"GET",extract:function(e){return e.responseText},background:!0}).then(function(e){r?r.then(function(){n.about(o(e)),c.redraw()}):(n.about(o(e)),c.redraw())})}},n.loadMore=function(e){if(n.itemList())if(e){var t="frontpage"===n.subreddit().toLowerCase()?f.REDDIT_BASE_URL+"/"+(n.order()?n.order():"")+".json":f.REDDIT_BASE_URL+"/r/"+n.subreddit()+(n.order()?"/"+n.order():"")+".json";t+="?after="+e,c.request({url:t,method:"GET"}).then(s)}else console.warn("No after token");else console.warn("No feed loaded yet")}},{"../lib/browser":29,"../lib/html":31,"./reddit":42,mithril:2,"mithril/stream":3}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril/stream");n.default=r()},{"mithril/stream":3}],41:[function(e,t,n){"use strict";function r(e){if(!e||"string"!=typeof e)return null;var t=e.trim();return t.length<1||t.length>l.MAX_SUB_LENGTH?null:t.match(l.SUB_RX)?null:t}function i(){var e=window.localStorage.getItem("freddy_subreddits");if(e){var t;try{t=JSON.parse(e)}catch(e){return void console.warn("Error parsing saved subreddits")}n.subreddits(t)}}function o(){var e=window.localStorage.getItem("freddy_preferences");if(e){var t;try{t=JSON.parse(e)}catch(e){return void console.warn("Error parsing saved subreddits")}n.preferences({articleThumbs:!!t.articleThumbs,feedThumbs:!!t.feedThumbs,nsfw:!!t.nsfw,theme:n.THEMES.some(function(e){return e.name===t.theme})?t.theme:n.THEMES[0].name})}}function a(){window.localStorage.setItem("freddy_subreddits",JSON.stringify(n.subreddits()))}function u(){window.localStorage.setItem("freddy_preferences",JSON.stringify(n.preferences()))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("mithril/stream"),l=e("./reddit");n.THEMES=[{name:"default",title:"Default"}];var c={theme:"default",articleThumbs:!0,feedThumbs:!0,nsfw:!1},d=["Frontpage","all","art","askreddit","books","funny","gadgets","gaming","javascript","movies","music","pics","programming","science","television","videos","webdev","worldnews"];n.preferences=s(c),n.subreddits=s(d),n.options=s.combine(function(e,t){return{preferences:e(),subreddits:t()}},[n.preferences,n.subreddits]),n.getPref=function(e){return n.preferences()[e]},n.setPref=function(e,t){n.preferences(Object.assign({},n.preferences(),(r={},r[e]=t,r))),u();var r},n.addSubreddit=function(e){var t=r(e);if(t){var i,o,u=t.toLowerCase(),s=n.subreddits().slice();for(i=1,o=s.length;i<o;++i){var l=s[i].toLowerCase();if(u===l)return void console.warn("Subreddit '"+t+"' already added");if(u<l)break}s.splice(i,0,t),n.subreddits(s),a()}else console.warn("Invalid subreddit: '"+e+"'")},n.removeSubreddit=function(e){var t=e.toLowerCase(),r=n.subreddits().findIndex(function(e){return e.toLowerCase()===t});if(r<0)console.warn("Subreddit '"+e+"' not found");else{var i=n.subreddits().slice();i.splice(r,1),n.subreddits(i),a()}},n.load=function(){o(),i()},n.reset=function(){window.localStorage.removeItem("freddy_subreddits"),window.localStorage.removeItem("freddy_preferences"),n.subreddits(d),n.preferences(c),a(),u()}},{"./reddit":42,"mithril/stream":3}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.REDDIT_BASE_URL="https://www.reddit.com",n.MAX_SUB_LENGTH=40,n.SUB_RX=/[^0-9A-Za-z_]/},{}],43:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{dup:40,"mithril/stream":3}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mithril"),i=e("./models/feed"),o=e("./models/article"),a=e("./freddy"),u=e("./lib/slider"),s=e("./lib/slider3");n.default={"/":{onmatch:function(){return i.load("Frontpage",void 0,s.default.setLayout(u.CENTER)),u.default.setLayout(u.RIGHT),a.default}},"/options":{onmatch:function(){return s.default.setLayout(u.RIGHT),u.default.setLayout(u.RIGHT),a.default}},"/sidebar":{onmatch:function(){return s.default.setLayout(u.LEFT),u.default.setLayout(u.RIGHT),a.default}},"/viewer":{render:function(){return r(a.default,{viewerOpen:!0})}},"/menu":{render:function(){return r(a.default,{menuOpen:!0})}},"/r/:subreddit":{onmatch:function(e){return i.load(e.subreddit,void 0,s.default.setLayout(u.CENTER)),u.default.setLayout(u.RIGHT),a.default}},"/r/:subreddit/:sortby":{onmatch:function(e){return i.load(e.subreddit,e.sortby,s.default.setLayout(u.CENTER)),u.default.setLayout(u.RIGHT),a.default}},"/r/:subreddit/comments/:postid/:slug":{onmatch:function(e){return o.load("/r/"+e.subreddit+"/comments/"+e.postid+"/"+e.slug,u.default.setLayout(u.CENTER)),a.default}},"/r/:subreddit/comments/:postid/:slug/:comment":{onmatch:function(e){return o.load("/r/"+e.subreddit+"/comments/"+e.postid+"/"+e.slug+"/"+e.comment,u.default.setLayout(u.CENTER)),a.default}}}},{"./freddy":16,"./lib/slider":33,"./lib/slider3":34,"./models/article":38,"./models/feed":39,mithril:2}]},{},[37]);</script>
</body>
</html>
